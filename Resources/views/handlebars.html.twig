<script id="integrated_website_template_block" type="text/x-handlebars-template">
    {% verbatim %}
    <div id="{{id}}_block_element" class="integrated-website-block">
        <input type="hidden" id="{{id}}_order" name="{{name}}[order]" value="{{index}}" data-field="integrated-website-item-order" data-index="{{index}}" />
        <input type="hidden" id="{{id}}_block" name="{{name}}[block]" value="{{value}}" data-field="integrated-website-block" />

        <div class="integrated-website-block-element">{{{element}}}</div>
    </div>
    {% endverbatim %}
</script>

<script id="integrated_website_template_cols" type="text/x-handlebars-template">
    {% verbatim %}
    <div id="{{id}}_row" class="row integrated-website-row">
        <input type="hidden" id="{{id}}_order" name="{{name}}[order]" value="{{index}}" data-field="integrated-website-item-order" data-index="{{index}}" />

        <div id="{{id}}_row_columns" class="integrated-website-cols">
            {{#each columns}}
            <div id="{{id}}_row_columns_{{index}}" class="col-xs-{{ size }} integrated-website-col">
                <input type="hidden" id="{{id}}_row_columns_{{index}}_size" name="{{name}}[row][columns][{{index}}][size]" data-field="integrated-website-col-size" value="{{size}}">
                <div class="integrated-website-section">
                    <div id="{{id}}_row_columns_{{index}}_items" class="integrated-website-sortable" data-name="{{name}}[row][columns][{{index}}][items]"></div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    {% endverbatim %}
</script>

<script id="integrated_website_template_modal_block_add" type="text/x-handlebars-template">
    <div>
        <div id="add_block_filters" class="row">
            <form id="add_block_filters_form" action="{{ path('integrated_block_block_index', { '_format': 'json', 'limit': 10}) }}">
                {% verbatim %}
                    <div class="col-sm-5">
                        <select class="form-control" name="integrated_block_filter[type][]">
                            <option value="">Type</option>
                            {{#each filters.type }}
                                 <option value="{{ value }}" {{#equals value ../type }}selected{{/equals}}>{{ label }}</option>
                            {{/each}}
                        </select>
                    </div>
                    <div class="col-sm-7">
                        <div class="form-group">
                            <div class="col-sm-6">
                                <div class="input-group">
                                    <input type="text" value="{{ q }}" class="form-control" name="integrated_block_filter[q]" placeholder="Search...">
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <select class="form-control" name="integrated_block_filter[channels][]">
                                    <option value="">Channel usage</option>
                                    {{#each filters.channels }}
                                         <option value="{{ value }}" {{#equals value ../channels }}selected{{/equals}}>{{ label }}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>
                    </div>
                {% endverbatim %}
            </form>
        </div>

        <div id="add_block_results">
            {% verbatim %}
                {{#each blocks}}
                    <div class="row form-group">
                        <div class="col-sm-8">
                            <b>{{ title }}</b>
                            <p>{{ type }}</p>
                        </div>
                        <div class="col-sm-4">
                            <a href="javascript:;" data-action="integrated-website-block-choose" data-id="{{ id }}" class="btn btn-default pull-right">Choose</a>
                        </div>
                    </div>
                {{/each}}
            {% endverbatim %}
        </div>

        <div class="row form-group">
            <div class="col-sm-12">
                {% verbatim %}
                    {{#hasPages pagination.pageCount}}
                        <ul class="pagination" id="add_block_pagination">
                            {{#if pagination.previous}}
                                <li>
                                    <a href="{{pagination.previous.href}}">&laquo;</a>
                                </li>
                            {{else}}
                                <li class="disabled">
                                    <span>&laquo;</span>
                                </li>
                            {{/if}}

                            {{#each pagination.pages }}
                                <li {{#equals @key ../pagination.page }}class="active disabled"{{/equals}}>
                                    <a href="{{href}}">{{ @key }}</a>
                                </li>
                            {{/each}}

                            {{#if pagination.next}}
                                <li>
                                    <a href="{{pagination.next.href}}">&raquo;</a>
                                </li>
                            {{else}}
                                <li class="disabled">
                                    <span>&raquo;</span>
                                </li>
                            {{/if}}
                        </ul>
                    {{/hasPages}}
                {% endverbatim %}
                <a href="{{ path('integrated_block_block_index') }}" class="btn btn-default pull-right" target="_blank">New</a>
            </div>
        </div>
    </div>
</script>

<script id="integrated_website_template_modal_menu_edit" type="text/x-handlebars-template">
    {% verbatim %}
    <div class="row">
        <div class="col-md-12">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-md-4 control-label" for="name">Name</label>
                    <div class="col-md-8">
                        <input id="name" name="name" type="text" value="{{ name }}" class="form-control" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-4 control-label" for="uri">URI</label>
                    <div class="col-md-8">
                        <input id="uri" name="uri" type="text" value="{{ uri }}" class="form-control" />
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% endverbatim %}
</script>
