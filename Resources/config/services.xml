<?xml version="1.0" encoding="UTF-8" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <parameters>

        <parameter key="integrated_formtype_form_type_datetime.class">Integrated\Bundle\FormTypeBundle\Form\Type\DateTimeType</parameter>
        <parameter key="integrated_formtype_form_type_wysihtml5x.class">Integrated\Bundle\FormTypeBundle\Form\Type\WysiHtml5xType</parameter>
        <parameter key="integrated_formtype_form_type_editor.class">Integrated\Bundle\FormTypeBundle\Form\Type\EditorType</parameter>
        <parameter key="integrated_formtype_form_type_tinymce.class">Integrated\Bundle\FormTypeBundle\Form\Type\TinyMCEType</parameter>
        <parameter key="integrated_formtype_form_type_select2.class">Integrated\Bundle\FormTypeBundle\Form\Type\Select2Type</parameter>
        <parameter key="integrated_formtype_form_type_sortable_collection.class">Integrated\Bundle\FormTypeBundle\Form\Type\SortableCollectionType</parameter>
        <parameter key="integrated_formtype_form_type_integrated_collection.class">Integrated\Bundle\FormTypeBundle\Form\Type\CollectionType</parameter>
        <parameter key="integrated_formtype.form.type.embedded_document.class">Integrated\Bundle\FormTypeBundle\Form\Type\EmbeddedDocumentType</parameter>
        <parameter key="integrated_formtype.form.type.content_choice.class">Integrated\Bundle\FormTypeBundle\Form\Type\ContentChoiceType</parameter>

        <parameter key="integrated_formtype.form.type.relation_choice.relations.class">Integrated\Bundle\FormTypeBundle\Form\Type\RelationChoice\RelationsType</parameter>
        <parameter key="integrated_formtype.form.type.relation_references_choice.relation.class">Integrated\Bundle\FormTypeBundle\Form\Type\RelationChoice\RelationReferencesType</parameter>
        <parameter key="integrated_formtype.form.type.save_cancel.class">Integrated\Bundle\FormTypeBundle\Form\Type\SaveCancelType</parameter>

    </parameters>

	<services>

        <service id="integrated_formtype_form_type_datetime" class="%integrated_formtype_form_type_datetime.class%">
            <argument type="service" id="integrated_asset.manager.stylesheet_manager" />
            <argument type="service" id="integrated_asset.manager.javascript_manager" />
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype_form_type_editor" class="%integrated_formtype_form_type_editor.class%">
            <argument>%integrated_content_styles%</argument>

            <tag name="form.type"/>
        </service>

        <service id="integrated_formtype_form_type_tinymce" class="%integrated_formtype_form_type_tinymce.class%">
            <argument>%integrated_content_styles%</argument>

            <tag name="form.type" />
        </service>

        <service id="integrated_formtype_form_type_wysihtml5x" class="%integrated_formtype_form_type_wysihtml5x.class%">
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype_form_type_sortable_collection" class="%integrated_formtype_form_type_sortable_collection.class%">
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype_form_type_integrated_collection" class="%integrated_formtype_form_type_integrated_collection.class%">
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype_form_type_select2" class="%integrated_formtype_form_type_select2.class%">
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype.form.type.embedded_document" class="%integrated_formtype.form.type.embedded_document.class%">
            <argument type="service" id="integrated_content.metadata.factory.all_types" />
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype.form.type.content_choice" class="%integrated_formtype.form.type.content_choice.class%">
            <argument type="service" id="doctrine_mongodb.odm.document_manager" />
            <argument type="string">IntegratedContentBundle:Content\Content</argument>
            <argument type="string">integrated_content_content_index</argument>
            <argument type="collection">
                <argument key="_format">json</argument>
            </argument>

            <tag name="form.type" />
        </service>
        
        <service id="integrated_formtype.form.type.relation_choice.relations" class="%integrated_formtype.form.type.relation_choice.relations.class%">
            <argument type="service" id="doctrine_mongodb.odm.document_manager" />
            <tag name="form.type" />
        </service>

        <service id="integrated_formtype.form.type.relation_references_choice.relation" class="%integrated_formtype.form.type.relation_references_choice.relation.class%">
            <tag name="form.type" alias="integrated_relation_references"/>
        </service>

        <service id="integrated_formtype.form.type.save_cancel" class="%integrated_formtype.form.type.save_cancel.class%">
            <tag name="form.type" />
        </service>

    </services>

</container>
